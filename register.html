<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>注册</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
    <header>
      <nav class="navbar navbar-inverse navbar-fixed-top" rol="navigation">
	    <div class="container">
	  	  <div class="navbar-header">
	  	    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
	  	      <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
	  	    </button>
	  	    <a class="navbar-brand" href="#">YGames</a>
	  	  </div><!-- navbar-header end! -->
	  	  <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
		    <ul class="nav navbar-nav">
		     <li><a href="#">主页</a></li>
		     <li><a href="#">用户</a></li>
		     <li><a href="#">联系</a></li>
		     <li><a href="#">论坛</a></li>
		     <li class="dropdown">
		       <a href="#" class="dropdown-toggle" data-toggle="dropdown">游戏<span class="caret"></span></a>
		       <ul class="dropdown-menu" role="menu">
		  	      <li><a href="#">单机游戏</a></li>
		  	      <li><a href="#">网络游戏</a></li>
		  	      <li><a href="#">手机游戏</a></li>
		  	      <li><a href="#">小游戏系列</a></li>
		       </ul>
		     </li>
		     <li><a href="#">关于</a></li>
		    </ul><!-- nav nav-bar -->
	  	  </div><!-- collapse navbar-collapse end! -->
	    </div><!-- container end! -->
	  </nav>
	</header>
	
	<section>
      <div class="container">
  	    <h3><span class="glyphicon glyphicon-tree-deciduous"></span>用户注册</h3>
      </div>
	</section>

    <section>
	  <div class="container">
	    <form class="form-horizontal" method="post" enctype="multipart/form-data" role="form">
	  	  <div class="form-group">
	  	    <label for="username" class="col-sm-3 control-label">用户名</label>
	  	    <div class="col-sm-6">  
	  	      <input type="text" class="form-control" name="username" id="username" placeholder="请输入至少6位的用户名">
	  	    </div>
	  	    <div class="col-sm-3 glyphicon glyphicon-asterisk prompt-info error"></div>
	  	  </div><!-- form-group end! -->
	  	  <div class="form-group">
	  	    <label for="password" class="col-sm-3 control-label">密码</label>
	  	    <div class="col-sm-6"> 
	  	      <input type="password" class="form-control" name="password" id="password" placeholder="请输入6-16位字母数字组合的密码">
	  	    </div>
	  	    <div class="col-sm-3 glyphicon glyphicon-asterisk prompt-info error"></div>
	  	  </div><!-- form-group end! -->
	  	  <div class="form-group">
	  	    <label for="confirm-password" class="col-sm-3 control-label">确认密码</label>
	  	    <div class="col-sm-6">
	  	      <input type="password" class="form-control" name="confirm-password" id="confirm-password" placeholder="请确认您输入的密码">
	  	    </div>
	  	    <div class="col-sm-3 glyphicon glyphicon-asterisk prompt-info error"></div>
	  	  </div><!-- form-group end! -->
	  	  <div class="form-group">
	  	    <label for="gender" class="col-sm-3 control-label">性别</label>
	  	    <div class="col-sm-6"> 
	  	      <select class="form-control" name="gender" id="gender">
	  	  	    <option value="male">男</option>
	  	  	    <option value="female">女</option>
	  	   	    <option value="private">保密</option>
	  	      </select>
	  	    </div>
	  	    <div class="col-sm-3"></div>
	  	  </div><!-- form-group end! -->
	  	  <div class="form-group">
	  	    <label for="avatar" class="col-sm-3 control-label">头像</label>
	  	    <div class="col-sm-6">  
	  	      <input type="file" name="avatar" id="avatar">
	  	      <p class="help-block">请选择一个头像</p>
	  	    </div>
	  	    <div class="col-sm-3"></div>
	  	  </div><!-- form-group end! -->
	  	  <div class="form-group">
	  	    <label class="col-sm-3 control-label">个人简介</label>
	  	    <div class="col-sm-6">
              <textarea class="col-sm-12 form-control" name="bio" rows="5" v-model="user.bio" id="bio"></textarea>
            </div>
            <div class="col-sm-3"></div>
          </div><!-- form-group end! -->
          <div class="form-group">
            <div class="col-sm-offset-3 col-sm-5">
              <button type="submit" class="btn btn-default" id="btn-submit">提交</button>
            </div>
            <div class="col-sm-4">
          	  <button type="reset" class="btn btn-default" id="btn-reset">重置</button>
            </div>
          </div><!-- form-group end! -->
	    </form>
	  </div><!-- container end! -->
	</section>

	<section class="section-advertising">
	  <div class="container">
	    <div class="row">
	  	  <div class="col-md-4">
	  	    <img src="img/advertising-1.jpg" alt="">
	  	    <h4>梦幻西游</h4>
	  	    <p><span class="glyphicon glyphicon-star"></span><span class="glyphicon glyphicon-star"></span><span class="glyphicon glyphicon-star"></span><span class="glyphicon glyphicon-star"></span><span class="glyphicon glyphicon-star-empty"></span></p>
	  	    <p>《梦幻西游》是一款由中国网易公司自行开发并营运的网络游戏。游戏以著名的章回小说《西游记》故事为背景，透过Q版的人物，试图营造出浪漫的网络游戏风格。</p>
	  	  </div>
	  	  <div class="col-md-offset-2 col-md-6">
	  	    <img src="img/advertising-2.jpg" alt="">
	  	    <h4>侠盗猎车5(GTA5)</h4>
	  	    <p><span class="glyphicon glyphicon-star"></span><span class="glyphicon glyphicon-star"></span><span class="glyphicon glyphicon-star"></span><span class="glyphicon glyphicon-star"></span><span class="glyphicon glyphicon-star"></span></p>
	  	    <p>《侠盗猎车手5》（Grand Theft Auto V），是由Rockstar Games游戏公司出版发行的一款围绕犯罪为主题的开放式动作冒险游戏。</p>
	  	  </div>
	    </div>
	  </div>
	</section>
	
	<footer class="footer">
      <div class="container">
        <div class="row">
          <div class="col-md-2">
            <img src="img/yudaren-logo.png" alt="yudaren-logo">
          </div>
          <div class="col-md-8">
          	<p>&copy;&nbsp;2017&nbsp&nbsp;岁暮少年玻璃心</p>
          	<p>
            	<a href="https://github.com/yudaren007007">GitHub</a>
            	<a href="http://weibo.com/yujunren0720">新浪微博</a>
          	</p>
          </div>
          <div class="col-md-2">
            <p><a href="#top">回到顶部</a></p>
          </div>
        </div><!-- row end! -->
      </div><!-- container end! -->
    </footer>

  
  <script src="js/jquery-3.1.1.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <!-- 客户端表单验证 -->
  <script>
  	$(document).ready(function() {
  		$('#btn-submit').attr("disabled", "disabled");
  		$('form :input').blur(function() {
  			var $parent = $(this).parent().parent();
  			$parent.find(".prompt-info").remove();
  			//验证用户名
  			if(this.id === 'username') {
  				if( this.value == "" || this.value.length < 6) {
  					var erroMsg = '请输入至少六位的用户名';
  					$parent.append('<div class="col-sm-3 prompt-info error">' + erroMsg + '</div>');
  				}else{
  					var correctMsg = 'OK';
  					$parent.append('<div class="col-sm-3 prompt-info correct"><span class="glyphicon glyphicon-ok">' + correctMsg + '</span></div>');
  				}
  			}
  			//验证密码长度
  			if(this.id === 'password') {
  				var value = $('#password').val();
  				var num = 0;
  				var number = 0;
  				var upperCase = 0;
  				var lowerCase = 0;
  				if(value.search(/[0-9]/) != -1) {
  					num += 1;
  					number = 1;
  				}
  				if(value.search(/[A-Z]/) != -1) {
  					num += 1;
  					upperCase = 1;
  				}
  				if(value.search(/[a-z]/) != -1) {
  					num += 1;
  					lowerCase = 1;
  				}
  				if(num >= 2 && (value.length >= 6 && value.length <= 16)) {
  					var correctMsg = 'OK';
  					$parent.append('<div class="col-sm-3 prompt-info correct"><span class="glyphicon glyphicon-ok">' + correctMsg + '</span></div>');
  				}else if(value.length < 6 || value.length > 16) {
  					var erroMsg = '密码由6-16个字符组成';
  					$parent.append('<div class="col-sm-3 prompt-info error">' + erroMsg + '</div>');
  				}else if(num == 1) {
  					if(number == 1) {
  					var erroMsg = '不能全为数字!';
  					$parent.append('<div class="col-sm-3 prompt-info error">' + erroMsg + '</div>');
  					}
  					if(upperCase == 1 || lowerCase == 1) {
  					var erroMsg = '不能全为字母!';
  					$parent.append('<div class="col-sm-3 prompt-info error">' + erroMsg + '</div>');
  					}
  				}
  			}
  			//验证确认密码和密码是否一致
  			if(this.id == 'confirm-password') {
  				var password = $('#password').val();
  				var confrimPassword = $('#confirm-password').val();
  				if(password != '' && password === confrimPassword) {
  					var correctMsg = 'OK';
  					$parent.append('<div class="col-sm-3 prompt-info correct"><span class="glyphicon glyphicon-ok">' + correctMsg + '</span></div>');
  				}else{
  					var erroMsg = '两次密码输入不一致!';
  					$parent.append('<div class="col-sm-3 prompt-info error">' + erroMsg + '</div>');
  					}
  				}
			var numError = $('form .error').length;
	      	if(numError){
	        	$('#btn-submit').attr("disabled", "disabled");
	      	}else{
	      		$('#btn-submit').removeAttr("disabled", "disabled");
	      	} 	
  		});

  		//重置按钮
         $('#btn-reset').click(function(){
                $('.prompt-info').remove();
                var formGroups = $('.form-group');
                for(var i = 0; i < 3;i++) {
                	var erroMsg = '两次密码输入不一致!';
                	console.log(formGroups[i]);
                	$(formGroups[i]).append('<div class="col-sm-3 glyphicon glyphicon-asterisk prompt-info error"></div>');
                }
         });
  	});
  </script>
  </body>
</html>
